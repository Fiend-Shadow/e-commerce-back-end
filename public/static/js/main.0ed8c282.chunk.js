(this["webpackJsonpget-scripts"]=this["webpackJsonpget-scripts"]||[]).push([[0],{34:function(e,t,n){e.exports=n(62)},56:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(30),o=n.n(u),c=n(10),l=n(2),s=n(3),i=n(6),m=n(5),h=n(7),p=n(31),g=n.n(p),d=new(function(){function e(){Object(l.a)(this,e),this.auth=g.a.create({baseURL:"https://e-commerce-ih-m3.herokuapp.com",withCredentials:!0})}return Object(s.a)(e,[{key:"signup",value:function(e){var t=e.username,n=e.password;return this.auth.post("/auth/signup",{username:t,password:n}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.username,n=e.password;return this.auth.post("/auth/login",{username:t,password:n}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}}]),e}()),b=r.a.createContext(),f=b.Consumer,v=b.Provider,E=function(e){return function(t){function n(){return Object(l.a)(this,n),Object(i.a)(this,Object(m.a)(n).apply(this,arguments))}return Object(h.a)(n,t),Object(s.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(f,null,(function(n){var a=n.login,u=n.signup,o=n.logout,c=n.user,l=n.isLoggedIn;return r.a.createElement(e,Object.assign({user:c,isLoggedIn:l,login:a,signup:u,logout:o},t.props))}))}}]),n}(a.Component)},j=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),u=0;u<a;u++)r[u]=arguments[u];return(n=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedIn:!1,user:null,isLoading:!0},n.signup=function(e,t){d.signup({username:e,password:t}).then((function(e){return n.setState({isLoggedIn:!0,user:e})})).catch((function(e){return console.log(e)}))},n.login=function(e,t){d.login({username:e,password:t}).then((function(e){return n.setState({isLoggedIn:!0,user:e})})).catch((function(e){return console.log(e)}))},n.logout=function(){d.logout().then((function(){return n.setState({isLoggedIn:!1,user:null})})).catch((function(e){return console.log(e)}))},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.me().then((function(t){return e.setState({isLoggedIn:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedIn:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.isLoggedIn,a=e.user,u=this.login,o=this.logout,c=this.signup;return r.a.createElement(v,{value:{isLoading:t,isLoggedIn:n,user:a,login:u,logout:o,signup:c}},this.props.children)}}]),t}(r.a.Component),O=(n(56),n(13)),y=E(function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.logout,a=e.isLoggedIn;return r.a.createElement("nav",{className:"navbar"},r.a.createElement(c.b,{to:"/",id:"home-btn"},r.a.createElement("h4",null,"Home")),a?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"username: ",t.username),r.a.createElement("button",{onClick:n},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(c.b,{to:"/login"}," ",r.a.createElement("button",{className:"navbar-button"},"Login")," "),r.a.createElement("br",null),r.a.createElement(c.b,{to:"/signup"}," ",r.a.createElement("button",{className:"navbar-button"},"Sign Up")," ")))}}]),t}(a.Component));var L=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Home Page"))},w=n(15),C=E(function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),u=0;u<a;u++)r[u]=arguments[u];return(n=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.password;n.props.signup(a,r)},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(w.a)({},a,r))},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return r.a.createElement("div",null,r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Signup"})),r.a.createElement("p",null,"Already have account?"),r.a.createElement(c.b,{to:"/login"}," Login"))}}]),t}(a.Component)),k=E(function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),u=0;u<a;u++)r[u]=arguments[u];return(n=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.password;n.props.login(a,r)},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(w.a)({},a,r))},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Login"})))}}]),t}(a.Component)),I=E(function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Private Route"),r.a.createElement("h1",null,"Welcome ",this.props.user.username))}}]),t}(a.Component)),S=n(16);var x=E((function(e){var t=e.component,n=e.isLoggedIn,a=Object(S.a)(e,["component","isLoggedIn"]);return(r.a.createElement(O.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(O.a,{to:"/private"}):n?void 0:r.a.createElement(t,e)}})))}));var F=E((function(e){var t=e.component,n=e.isLoggedIn,a=Object(S.a)(e,["component","isLoggedIn"]);return r.a.createElement(O.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):n?void 0:r.a.createElement(O.a,{to:"/login"})}}))})),P=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(y,null),r.a.createElement(O.d,null,r.a.createElement(O.b,{exact:!0,path:"/",component:L}),r.a.createElement(x,{exact:!0,path:"/signup",component:C}),r.a.createElement(x,{exact:!0,path:"/login",component:k}),r.a.createElement(F,{exact:!0,path:"/private",component:I})))}}]),t}(a.Component);o.a.render(r.a.createElement(c.a,null,r.a.createElement(j,null,r.a.createElement(P,null))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.0ed8c282.chunk.js.map